<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>NullAgent â€” Documentation</title>
<meta name="description" content="NullAgent technical documentation â€” setup, API reference, privacy architecture, x402 integration."/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;400;700;900&family=Azeret+Mono:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet"/>
<style>
:root{
  --void:#050507;--deep:#08080d;--surface:#0d0d15;--raised:#13131e;
  --border:rgba(255,255,255,0.06);--border2:rgba(255,255,255,0.10);
  --ink:#a0a0b8;--dim:#404058;--white:#f0f0f8;
  --violet:#7c5cfc;--violet2:#a98bff;--electric:#00e5ff;--neon:#b4ff57;
  --warn:#ff4757;--gold:#ffd166;
}
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{background:var(--void);color:var(--white);font-family:'Azeret Mono',monospace;overflow-x:hidden;-webkit-font-smoothing:antialiased;}
body::before{content:'';position:fixed;inset:0;z-index:9999;pointer-events:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");opacity:.5;}
::-webkit-scrollbar{width:4px;}::-webkit-scrollbar-track{background:var(--deep);}::-webkit-scrollbar-thumb{background:var(--dim);border-radius:2px;}::-webkit-scrollbar-thumb:hover{background:var(--violet);}
h1,h2,h3,h4,h5{font-family:'Unbounded',sans-serif;}
a{text-decoration:none;color:inherit;}
button{font-family:'Azeret Mono',monospace;cursor:pointer;}
.clip{clip-path:polygon(8px 0%,100% 0%,100% calc(100% - 8px),calc(100% - 8px) 100%,0% 100%,0% 8px);}
/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:100;border-bottom:1px solid var(--border);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);background:rgba(5,5,7,.85);}
.nav-inner{max-width:1440px;margin:0 auto;padding:0 48px;height:64px;display:flex;align-items:center;justify-content:space-between;}
.nav-logo{display:flex;align-items:center;gap:12px;}
.nav-logo-text{font-family:'Unbounded',sans-serif;font-weight:700;font-size:13px;letter-spacing:2px;}
.nav-links{display:flex;align-items:center;gap:28px;}
.nav-links a{font-size:11px;letter-spacing:1.5px;color:var(--dim);transition:color .2s;text-transform:uppercase;}
.nav-links a:hover,.nav-links a.active{color:var(--white);}
.nav-links a.active{color:var(--violet2);}
/* LAYOUT */
.docs-layout{display:flex;padding-top:64px;min-height:100vh;}
/* SIDEBAR */
.sidebar{width:260px;flex-shrink:0;border-right:1px solid var(--border);position:sticky;top:64px;height:calc(100vh - 64px);overflow-y:auto;padding:32px 0;}
.sb-section{margin-bottom:8px;}
.sb-section-title{font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--dim);padding:8px 24px;margin-bottom:4px;}
.sb-link{display:block;font-size:11px;color:var(--dim);padding:8px 24px;transition:all .2s;border-left:2px solid transparent;}
.sb-link:hover{color:var(--white);background:rgba(255,255,255,0.02);}
.sb-link.active{color:var(--violet2);border-left-color:var(--violet2);background:rgba(124,92,252,0.06);}
.sb-badge{font-size:9px;letter-spacing:1px;padding:2px 6px;border:1px solid;margin-left:8px;vertical-align:middle;}
.sb-badge.on{color:var(--neon);border-color:rgba(180,255,87,0.3);}
.sb-badge.soon{color:var(--dim);border-color:var(--dim);}
/* CONTENT */
.docs-content{flex:1;min-width:0;max-width:860px;padding:48px 64px;}
/* SECTIONS */
.doc-section{margin-bottom:72px;scroll-margin-top:80px;}
.doc-section:first-child{margin-top:0;}
.section-label{font-size:10px;letter-spacing:4px;color:var(--violet2);text-transform:uppercase;margin-bottom:12px;}
.section-title{font-size:32px;font-weight:900;margin-bottom:16px;line-height:1.2;}
.section-desc{font-size:13px;line-height:1.9;color:var(--ink);margin-bottom:36px;max-width:680px;}
/* CONTENT BLOCKS */
.doc-block{margin-bottom:32px;}
.block-title{font-family:'Unbounded',sans-serif;font-size:15px;font-weight:700;margin-bottom:12px;}
.block-body{font-size:12px;line-height:1.9;color:var(--ink);}
/* CODE BLOCKS */
.code-block{background:var(--deep);border:1px solid var(--border);padding:20px 24px;margin:16px 0;position:relative;}
.code-block pre{font-size:12px;line-height:1.8;overflow-x:auto;}
.code-block .lang-tag{position:absolute;top:12px;right:16px;font-size:9px;letter-spacing:1.5px;color:var(--dim);text-transform:uppercase;}
.code-block .copy-btn{position:absolute;top:12px;right:16px;font-size:9px;letter-spacing:1px;color:var(--dim);background:none;border:1px solid var(--border);padding:3px 10px;cursor:pointer;transition:all .2s;text-transform:uppercase;}
.code-block .copy-btn:hover{color:var(--white);border-color:rgba(255,255,255,0.15);}
/* TABLES */
.doc-table{width:100%;border-collapse:collapse;margin:16px 0;}
.doc-table th{font-size:10px;letter-spacing:1.5px;text-transform:uppercase;color:var(--dim);padding:10px 16px;text-align:left;border-bottom:1px solid var(--border);}
.doc-table td{font-size:12px;padding:10px 16px;border-bottom:1px solid rgba(255,255,255,0.03);color:var(--ink);}
.doc-table td:first-child{color:var(--white);font-family:'Azeret Mono',monospace;}
.doc-table tr:hover td{background:rgba(255,255,255,0.01);}
/* CARDS */
.cards-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:20px 0;}
.doc-card{border:1px solid var(--border);padding:20px;transition:border-color .2s;}
.doc-card:hover{border-color:rgba(255,255,255,0.1);}
.doc-card-title{font-family:'Unbounded',sans-serif;font-size:13px;margin-bottom:8px;}
.doc-card-body{font-size:11px;line-height:1.7;color:var(--ink);}
/* STEPS */
.steps{margin:20px 0;}
.step-item{display:flex;gap:16px;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid rgba(255,255,255,0.04);}
.step-item:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0;}
.step-num{width:28px;height:28px;border:1px solid var(--violet);color:var(--violet2);font-family:'Unbounded',sans-serif;font-size:11px;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:2px;}
.step-label{font-size:12px;font-weight:600;color:var(--white);margin-bottom:4px;}
.step-body{font-size:11px;line-height:1.8;color:var(--ink);}
/* ENDPOINTS */
.endpoint{border:1px solid var(--border);margin-bottom:12px;overflow:hidden;}
.ep-header{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:background .2s;}
.ep-header:hover{background:rgba(255,255,255,0.02);}
.ep-method{font-size:10px;letter-spacing:1.5px;padding:3px 8px;border:1px solid;font-weight:700;}
.ep-method.GET{color:var(--neon);border-color:rgba(180,255,87,0.3);}
.ep-method.POST{color:var(--electric);border-color:rgba(0,229,255,0.3);}
.ep-path{font-size:12px;font-family:'Azeret Mono',monospace;color:var(--white);}
.ep-desc{font-size:11px;color:var(--dim);margin-left:auto;}
.ep-body{padding:16px;border-top:1px solid var(--border);background:var(--deep);display:none;}
.ep-body.open{display:block;}
.ep-label{font-size:9px;letter-spacing:2px;text-transform:uppercase;color:var(--dim);margin-bottom:8px;margin-top:16px;}
.ep-label:first-child{margin-top:0;}
/* ALERTS */
.alert{border:1px solid;padding:14px 18px;margin:16px 0;font-size:12px;line-height:1.7;}
.alert.info{border-color:rgba(0,229,255,0.2);background:rgba(0,229,255,0.04);color:var(--electric);}
.alert.warn{border-color:rgba(255,209,102,0.2);background:rgba(255,209,102,0.04);color:var(--gold);}
.alert.tip{border-color:rgba(180,255,87,0.2);background:rgba(180,255,87,0.04);color:var(--neon);}
/* BADGES */
.badge{font-size:9px;letter-spacing:1.5px;padding:3px 8px;border:1px solid;display:inline-block;vertical-align:middle;margin-left:6px;}
.badge.active{color:var(--neon);border-color:rgba(180,255,87,0.3);}
.badge.q2{color:var(--dim);border-color:var(--dim);}
.badge.q3{color:var(--dim);border-color:var(--dim);}
/* DIVIDER */
.divider{border:none;border-top:1px solid var(--border);margin:40px 0;}
/* INLINE CODE */
code{font-family:'Azeret Mono',monospace;font-size:11px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);padding:2px 6px;color:var(--violet2);}
/* PRIVACY LAYERS VISUAL */
.layers-visual{display:flex;gap:16px;margin:24px 0;}
.lv-card{flex:1;border:1px solid var(--border);padding:20px;position:relative;overflow:hidden;}
.lv-card::before{content:'';position:absolute;inset:0;opacity:0;}
.lv-card.l1{border-color:rgba(180,255,87,0.2);}
.lv-card.l1::before{background:rgba(180,255,87,0.02);}
.lv-num{font-family:'Unbounded',sans-serif;font-weight:900;font-size:28px;opacity:.15;position:absolute;top:12px;right:16px;}
.lv-card.l1 .lv-num{color:var(--neon);}
.lv-card.l2 .lv-num{color:var(--violet2);}
.lv-card.l3 .lv-num{color:var(--electric);}
/* WS EVENTS */
.ws-event{display:flex;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.04);font-size:11px;}
.ws-event:last-child{border-bottom:none;}
.ws-dir{font-size:9px;letter-spacing:1px;padding:2px 6px;border:1px solid;flex-shrink:0;margin-top:1px;}
.ws-dir.srv{color:var(--violet2);border-color:rgba(169,139,255,0.3);}
.ws-dir.cli{color:var(--electric);border-color:rgba(0,229,255,0.3);}
.ws-name{font-family:'Azeret Mono',monospace;color:var(--white);width:160px;flex-shrink:0;}
.ws-desc{color:var(--ink);}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="nav-inner">
    <a href="index.html" class="nav-logo" style="text-decoration:none;">
      <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
        <polygon points="14,2 25,8 25,20 14,26 3,20 3,8" fill="none" stroke="#7c5cfc" stroke-width="1.5"/>
        <polygon points="14,7 20,10.5 20,17.5 14,21 8,17.5 8,10.5" fill="rgba(124,92,252,0.2)" stroke="#a98bff" stroke-width="1"/>
        <circle cx="14" cy="14" r="2.5" fill="#b4ff57"/>
      </svg>
      <span class="nav-logo-text">NULLAGENT</span>
    </a>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="docs.html" class="active">Docs</a>
      <a href="https://github.com/0xgasless" target="_blank">GitHub</a>
    </div>
    <a href="index.html" style="font-size:11px;letter-spacing:1.5px;text-transform:uppercase;background:var(--violet);color:var(--white);padding:10px 22px;clip-path:polygon(8px 0%,100% 0%,100% calc(100% - 8px),calc(100% - 8px) 100%,0% 100%,0% 8px);">Deploy Agent</a>
  </div>
</nav>

<div class="docs-layout">

<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="sb-section">
    <div class="sb-section-title">Getting Started</div>
    <a href="#overview" class="sb-link active">Overview</a>
    <a href="#setup" class="sb-link">Setup Guide</a>
    <a href="#quickstart" class="sb-link">Quick Start</a>
    <a href="#env" class="sb-link">Environment Variables</a>
  </div>
  <div class="sb-section">
    <div class="sb-section-title">Privacy Architecture</div>
    <a href="#privacy" class="sb-link">How It Works</a>
    <a href="#l1-stealth" class="sb-link">L1 Â· Stealth Wallets <span class="sb-badge on">Active</span></a>
    <a href="#l2-railgun" class="sb-link">L2 Â· Railgun Shield <span class="sb-badge soon">Q2</span></a>
    <a href="#l3-zk" class="sb-link">L3 Â· ZK Proofs <span class="sb-badge soon">Q3</span></a>
  </div>
  <div class="sb-section">
    <div class="sb-section-title">API Reference</div>
    <a href="#api" class="sb-link">REST Endpoints</a>
    <a href="#websocket" class="sb-link">WebSocket Events</a>
    <a href="#auth" class="sb-link">Authentication</a>
  </div>
  <div class="sb-section">
    <div class="sb-section-title">Integrations</div>
    <a href="#x402" class="sb-link">x402 Protocol</a>
    <a href="#conway" class="sb-link">Conway Compute</a>
    <a href="#erc8004" class="sb-link">ERC-8004 Identity</a>
  </div>
  <div class="sb-section">
    <div class="sb-section-title">Vault</div>
    <a href="#vault" class="sb-link">Vault Architecture</a>
    <a href="#deposit" class="sb-link">Deposit & Split</a>
  </div>
  <div class="sb-section">
    <div class="sb-section-title">Deploy</div>
    <a href="#deploy-conway" class="sb-link">Deploy on Conway</a>
    <a href="#deploy-self" class="sb-link">Self-Hosted</a>
  </div>
</aside>

<!-- MAIN CONTENT -->
<main class="docs-content">

  <!-- OVERVIEW -->
  <section id="overview" class="doc-section">
    <div class="section-label">Getting Started</div>
    <h1 class="section-title">NullAgent Documentation</h1>
    <p class="section-desc">NullAgent is an autonomous trading agent on Base that executes operations without leaving a traceable on-chain fingerprint. This documentation covers setup, architecture, API reference, and integration guides.</p>

    <div class="alert tip">ðŸ“‹ &nbsp;This documentation is a work in progress. Sections marked <strong>[FILL]</strong> need to be completed with your actual configuration values, RPC endpoints, and contract addresses.</div>

    <div class="cards-grid">
      <a href="#setup" class="doc-card" style="display:block;">
        <div class="doc-card-title">Setup Guide â†’</div>
        <div class="doc-card-body">Install dependencies, configure your environment, connect to Base mainnet via Alchemy.</div>
      </a>
      <a href="#privacy" class="doc-card" style="display:block;">
        <div class="doc-card-title">Privacy Architecture â†’</div>
        <div class="doc-card-body">Understand the three-layer privacy model: stealth wallets, Railgun, and ZK proofs.</div>
      </a>
      <a href="#api" class="doc-card" style="display:block;">
        <div class="doc-card-title">API Reference â†’</div>
        <div class="doc-card-body">All REST endpoints, WebSocket events, authentication flow, and request formats.</div>
      </a>
      <a href="#x402" class="doc-card" style="display:block;">
        <div class="doc-card-title">x402 Integration â†’</div>
        <div class="doc-card-body">Sell signals, buy signals, configure micropayment pricing, and autopay for Conway compute.</div>
      </a>
    </div>
  </section>

  <hr class="divider"/>

  <!-- SETUP -->
  <section id="setup" class="doc-section">
    <div class="section-label">Getting Started</div>
    <h2 class="section-title">Setup Guide</h2>
    <p class="section-desc">Prerequisites and initial configuration to get NullAgent running locally or in a Conway microVM.</p>

    <div class="doc-block">
      <h3 class="block-title">Prerequisites</h3>
      <table class="doc-table">
        <thead><tr><th>Requirement</th><th>Version</th><th>Notes</th></tr></thead>
        <tbody>
          <tr><td>Node.js</td><td>â‰¥ 18.x</td><td>Required for viem and x402 packages</td></tr>
          <tr><td>npm</td><td>â‰¥ 9.x</td><td>Or pnpm / yarn</td></tr>
          <tr><td>MetaMask</td><td>Latest</td><td>For wallet authentication in the UI</td></tr>
          <tr><td>Base RPC</td><td>â€”</td><td>Alchemy (free tier) or public Base RPC</td></tr>
          <tr><td>ETH on Base</td><td>â‰¥ 0.01</td><td>Minimum deposit to fund the vault</td></tr>
        </tbody>
      </table>
    </div>

    <div class="doc-block">
      <h3 class="block-title">Installation</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><span style="color:var(--dim)"># Clone the repository</span>
git clone https://github.com/0xgasless/nullagent
cd nullagent

<span style="color:var(--dim)"># Install frontend dependencies</span>
cd frontend && npm install

<span style="color:var(--dim)"># Install backend dependencies</span>
cd ../backend && npm install</pre>
      </div>
    </div>

    <div class="alert warn">âš  &nbsp;<strong>[FILL]</strong> Replace the GitHub URL above with your actual repository URL once the project is public.</div>
  </section>

  <hr class="divider"/>

  <!-- QUICKSTART -->
  <section id="quickstart" class="doc-section">
    <div class="section-label">Getting Started</div>
    <h2 class="section-title">Quick Start</h2>
    <p class="section-desc">Deploy your first agent in under 5 minutes using the web deploy wizard or CLI.</p>

    <div class="steps">
      <div class="step-item">
        <div class="step-num">1</div>
        <div>
          <div class="step-label">Connect your wallet</div>
          <div class="step-body">Open the deploy wizard at <a href="index.html" style="color:var(--violet2)">nullagent.xyz</a> and click <strong>Deploy Agent</strong>. Connect MetaMask and sign the authentication message. No email, no account â€” wallet-only auth.</div>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">2</div>
        <div>
          <div class="step-label">Configure trading parameters</div>
          <div class="step-body">Select your trading pair (ETH/BRETT or ETH/DEGEN), slippage tolerance, and minimum conviction threshold. Privacy layer is set to L1 (stealth wallets) by default â€” this cannot be changed until Railgun activates in Q2.</div>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">3</div>
        <div>
          <div class="step-label">Fund your vault</div>
          <div class="step-body">Enter your deposit amount. The vault auto-splits: 60% to execution pool, 30% to gas reserve, 10% to Conway infra (swapped to USDC). Minimum deposit: 0.01 ETH. Recommended: 0.1 ETH for meaningful operation.</div>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">4</div>
        <div>
          <div class="step-label">Agent launches</div>
          <div class="step-body">A Conway Firecracker microVM spins up, installs dependencies, generates your stealth wallet pool, starts the watcher, and exposes a public x402 signal endpoint. The agent is now fully autonomous.</div>
        </div>
      </div>
    </div>

    <div class="alert info">â„¹ &nbsp;The deploy wizard simulates the Conway VM provisioning process in demo mode. Real VM deployment requires a Conway API key â€” <a href="https://docs.conway.tech" target="_blank" style="color:var(--electric)">contact Conway.tech</a> to get access.</div>
  </section>

  <hr class="divider"/>

  <!-- ENV -->
  <section id="env" class="doc-section">
    <div class="section-label">Getting Started</div>
    <h2 class="section-title">Environment Variables</h2>
    <p class="section-desc">All configuration is done through environment variables. Never commit secrets to version control.</p>

    <div class="doc-block">
      <h3 class="block-title">Backend <code>.env</code></h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><span style="color:var(--dim)"># Server</span>
PORT=3001
NODE_ENV=production
FRONTEND_URL=https://nullagent.xyz         <span style="color:var(--dim)"># [FILL] your domain</span>

<span style="color:var(--dim)"># Base RPC â€” get free key at alchemy.com</span>
ALCHEMY_RPC=https://base-mainnet.g.alchemy.com/v2/<span style="color:var(--warn)">[FILL_YOUR_KEY]</span>

<span style="color:var(--dim)"># Wallet that receives x402 signal payments</span>
PAYMENT_ADDRESS=<span style="color:var(--warn)">[FILL_YOUR_WALLET_ADDRESS]</span>

<span style="color:var(--dim)"># Conway API (optional â€” enables real VM deploy)</span>
CONWAY_API_KEY=<span style="color:var(--warn)">[FILL_IF_AVAILABLE]</span>

<span style="color:var(--dim)"># Privacy layer flags</span>
RAILGUN_ENABLED=false
ZK_ENABLED=false</pre>
      </div>
    </div>

    <div class="doc-block">
      <h3 class="block-title">Frontend <code>.env.local</code></h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><span style="color:var(--dim)"># Backend URL (Railway, Render, or localhost)</span>
NEXT_PUBLIC_API_URL=https://api.nullagent.xyz   <span style="color:var(--dim)"># [FILL] your backend URL</span>
NEXT_PUBLIC_WS_URL=wss://api.nullagent.xyz/ws  <span style="color:var(--dim)"># [FILL] WebSocket URL</span></pre>
      </div>
    </div>

    <table class="doc-table">
      <thead><tr><th>Variable</th><th>Required</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td>PORT</td><td>No</td><td>Backend HTTP port. Defaults to 3001.</td></tr>
        <tr><td>ALCHEMY_RPC</td><td>Yes</td><td>Base mainnet RPC URL. Free at alchemy.com.</td></tr>
        <tr><td>PAYMENT_ADDRESS</td><td>Yes</td><td>Wallet address to receive x402 signal sale proceeds.</td></tr>
        <tr><td>CONWAY_API_KEY</td><td>No</td><td>Enables real VM deployment. Without it, deploy wizard simulates.</td></tr>
        <tr><td>RAILGUN_ENABLED</td><td>No</td><td>Set to true when Railgun activates in Q2.</td></tr>
        <tr><td>FRONTEND_URL</td><td>Yes</td><td>Your frontend domain for CORS configuration.</td></tr>
      </tbody>
    </table>
  </section>

  <hr class="divider"/>

  <!-- PRIVACY OVERVIEW -->
  <section id="privacy" class="doc-section">
    <div class="section-label">Privacy Architecture</div>
    <h2 class="section-title">How Privacy Works</h2>
    <p class="section-desc">NullAgent implements a three-layer privacy model. Each layer independently reduces traceability â€” together they make it cryptographically impossible to link agent activity to an operator identity.</p>

    <div class="layers-visual">
      <div class="lv-card l1">
        <div class="lv-num">L1</div>
        <div style="font-size:9px;letter-spacing:2px;color:var(--dim);text-transform:uppercase;margin-bottom:8px;">Active Now</div>
        <div style="font-family:'Unbounded',sans-serif;font-size:14px;font-weight:700;color:var(--neon);margin-bottom:8px;">Stealth Wallets</div>
        <div style="font-size:11px;color:var(--ink);line-height:1.7;">New ephemeral address per operation. Key destroyed after use.</div>
      </div>
      <div class="lv-card l2">
        <div class="lv-num">L2</div>
        <div style="font-size:9px;letter-spacing:2px;color:var(--dim);text-transform:uppercase;margin-bottom:8px;">Q2 Activation</div>
        <div style="font-family:'Unbounded',sans-serif;font-size:14px;font-weight:700;color:var(--violet2);margin-bottom:8px;">Railgun Shield</div>
        <div style="font-size:11px;color:var(--ink);line-height:1.7;">Shielded UTXO pool breaks the funding wallet â†’ stealth wallet link.</div>
      </div>
      <div class="lv-card l3">
        <div class="lv-num">L3</div>
        <div style="font-size:9px;letter-spacing:2px;color:var(--dim);text-transform:uppercase;margin-bottom:8px;">Q3 Activation</div>
        <div style="font-family:'Unbounded',sans-serif;font-size:14px;font-weight:700;color:var(--electric);margin-bottom:8px;">ZK Decision Proof</div>
        <div style="font-size:11px;color:var(--ink);line-height:1.7;">Prove agent acted without revealing wallet, timestamp, or logic.</div>
      </div>
    </div>

    <div class="doc-block">
      <h3 class="block-title">Why this matters</h3>
      <div class="block-body">On Base today, every trading bot runs from a fixed wallet. Every trade is permanently recorded on-chain: the wallet address, the timestamp, the pair, the amount â€” all of it public, forever. Within days, a competitor can identify your strategy and copy or front-run it.<br><br>NullAgent breaks this model at three levels. L1 eliminates the fixed wallet. L2 breaks the funding link. L3 enables verifiable execution without any on-chain disclosure.</div>
    </div>
  </section>

  <!-- L1 STEALTH -->
  <section id="l1-stealth" class="doc-section">
    <div class="section-label">Privacy Architecture</div>
    <h2 class="section-title">L1 Â· Stealth Wallets <span class="badge active">Active</span></h2>
    <p class="section-desc">Every trade operation uses a freshly generated EVM wallet. The private key exists only in memory and is destroyed immediately after execution.</p>

    <div class="doc-block">
      <h3 class="block-title">How it works</h3>
      <div class="block-body">At trade execution time, NullAgent calls <code>viem.generatePrivateKey()</code> to create a cryptographically random 32-byte private key. This key is derived into an EVM account, used to sign and submit exactly one transaction, then discarded â€” never written to disk, never logged, never stored in the database. The wallet address is recorded in SQLite as a historical record, but the key is gone forever.</div>
    </div>

    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><span style="color:var(--dim)">// src/privacy/stealth.ts</span>
<span style="color:var(--violet2)">import </span><span style="color:var(--white)">{ generatePrivateKey, privateKeyToAccount } </span><span style="color:var(--violet2)">from </span><span style="color:var(--neon)">'viem/accounts'</span>

<span style="color:var(--violet2)">export function </span><span style="color:var(--neon)">generateStealthWallet</span><span style="color:var(--white)">() {</span>
  <span style="color:var(--dim)">// 32 bytes of cryptographic randomness</span>
  <span style="color:var(--violet2)">const </span><span style="color:var(--white)">privateKey = </span><span style="color:var(--neon)">generatePrivateKey</span><span style="color:var(--white)">()</span>
  <span style="color:var(--violet2)">const </span><span style="color:var(--white)">account = </span><span style="color:var(--neon)">privateKeyToAccount</span><span style="color:var(--white)">(privateKey)</span>

  <span style="color:var(--dim)">// Key lives only in this closure scope</span>
  <span style="color:var(--dim)">// Function returns only the address and a signing capability</span>
  <span style="color:var(--dim)">// Private key is never exposed outside this function</span>
  <span style="color:var(--violet2)">return </span><span style="color:var(--white)">{</span>
    <span style="color:var(--white)">address: account.address,</span>
    <span style="color:var(--white)">sign: account.signTransaction,</span>
    <span style="color:var(--white)">retire: </span><span style="color:var(--violet2)">() => </span><span style="color:var(--dim)">{ /* key goes out of scope */ }</span>
  <span style="color:var(--white)">}</span>
<span style="color:var(--white)">}</span></pre>
    </div>

    <div class="doc-block">
      <h3 class="block-title">Wallet lifecycle states</h3>
      <table class="doc-table">
        <thead><tr><th>Status</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td>ready</td><td>Generated and funded. Waiting to be assigned to a trade.</td></tr>
          <tr><td>active</td><td>Currently being used for an in-progress transaction.</td></tr>
          <tr><td>confirmed</td><td>Trade confirmed on-chain. Key still technically in memory.</td></tr>
          <tr><td>retired</td><td>Execution complete. Key destroyed. Address recorded in DB.</td></tr>
          <tr><td>used</td><td>Historical record only. Address exists on-chain, key is gone.</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- L2 RAILGUN -->
  <section id="l2-railgun" class="doc-section">
    <div class="section-label">Privacy Architecture</div>
    <h2 class="section-title">L2 Â· Railgun Shield <span class="badge q2">Q2 2025</span></h2>
    <p class="section-desc">Railgun's shielded UTXO pool on Base breaks the on-chain link between your funding wallet and the stealth wallet execution pool. Currently loaded as a module, awaiting Q2 activation.</p>

    <div class="alert warn">âš  &nbsp;<code>RAILGUN_ENABLED=false</code> â€” This module is integrated into the codebase and ready to activate. The flag will be set to <code>true</code> when Railgun's Base mainnet integration is confirmed stable in Q2.</div>

    <div class="doc-block">
      <h3 class="block-title">What Railgun adds</h3>
      <div class="block-body">Without Railgun, a sophisticated observer can still trace: your funding wallet â†’ gas distribution wallet â†’ stealth wallet. L1 breaks the stealth wallet link but not the funding origin. Railgun inserts a shielded UTXO pool in between â€” ETH enters the shield contract from your funding wallet, and exits to an unlinked stealth pool address. The link is broken cryptographically.</div>
    </div>

    <div class="code-block">
      <pre><span style="color:var(--dim)">// Current state: module loaded, flag disabled</span>
<span style="color:var(--dim)">// src/privacy/railgun.ts</span>
<span style="color:var(--violet2)">import </span><span style="color:var(--white)">{ RailgunWallet } </span><span style="color:var(--violet2)">from </span><span style="color:var(--neon)">'@railgun-community/wallet'</span>

<span style="color:var(--violet2)">export async function </span><span style="color:var(--neon)">shieldAndRoute</span><span style="color:var(--white)">(amount: bigint, recipient: string) {</span>
  <span style="color:var(--violet2)">if </span><span style="color:var(--white)">(!process.env.RAILGUN_ENABLED) {</span>
    <span style="color:var(--dim)">// L1 only â€” direct transfer to stealth pool</span>
    <span style="color:var(--violet2)">return </span><span style="color:var(--neon)">directTransfer</span><span style="color:var(--white)">(amount, recipient)</span>
  <span style="color:var(--white)">}</span>
  <span style="color:var(--dim)">// L2 active: shield â†’ UTXO pool â†’ unshield to stealth</span>
  <span style="color:var(--violet2)">return </span><span style="color:var(--neon)">railgunShield</span><span style="color:var(--white)">(amount, recipient)</span>
<span style="color:var(--white)">}</span></pre>
    </div>

    <div class="doc-block">
      <h3 class="block-title">[FILL] â€” Railgun contract addresses</h3>
      <div class="block-body">Once Railgun L2 is activated, add the Base mainnet contract addresses here.</div>
      <table class="doc-table">
        <thead><tr><th>Contract</th><th>Address</th><th>Network</th></tr></thead>
        <tbody>
          <tr><td>RailgunSmartWallet</td><td style="color:var(--warn);">[FILL WHEN ACTIVE]</td><td>Base mainnet</td></tr>
          <tr><td>RelayAdapt</td><td style="color:var(--warn);">[FILL WHEN ACTIVE]</td><td>Base mainnet</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- L3 ZK -->
  <section id="l3-zk" class="doc-section">
    <div class="section-label">Privacy Architecture</div>
    <h2 class="section-title">L3 Â· ZK Decision Proof <span class="badge q3">Q3 2025</span></h2>
    <p class="section-desc">Semaphore-based zero-knowledge proofs that allow an agent to prove it executed a trade â€” without revealing which wallet, which timestamp, or what the decision logic was.</p>

    <div class="alert warn">âš  &nbsp;<code>ZK_ENABLED=false</code> â€” Semaphore integration is planned for Q3. The architecture below describes the intended implementation.</div>

    <div class="doc-block">
      <h3 class="block-title">Intended architecture</h3>
      <div class="block-body">The agent generates a Semaphore group membership proof before each execution. The proof attests: "an agent that is a member of group X executed a trade at conviction &gt; threshold Y". The group merkle root is registered on-chain via ERC-8004. The proof can be verified by any observer without learning which specific agent or wallet was involved.</div>
    </div>

    <div class="code-block">
      <pre><span style="color:var(--dim)">// Planned â€” src/privacy/zkproof.ts</span>
<span style="color:var(--violet2)">import </span><span style="color:var(--white)">{ generateProof } </span><span style="color:var(--violet2)">from </span><span style="color:var(--neon)">'@semaphore-protocol/core'</span>

<span style="color:var(--violet2)">export async function </span><span style="color:var(--neon)">proveExecution</span><span style="color:var(--white)">(signal: ExecutionSignal) {</span>
  <span style="color:var(--violet2)">const </span><span style="color:var(--white)">proof = </span><span style="color:var(--violet2)">await </span><span style="color:var(--neon)">generateProof</span><span style="color:var(--white)">(</span>
    <span style="color:var(--white)">identity,        </span><span style="color:var(--dim)">// agent's Semaphore identity</span>
    <span style="color:var(--white)">group,           </span><span style="color:var(--dim)">// NullAgent operator group</span>
    <span style="color:var(--neon)">hashSignal</span><span style="color:var(--white)">(signal),</span>
    <span style="color:var(--white)">group.root       </span><span style="color:var(--dim)">// merkle root for on-chain verification</span>
  <span style="color:var(--white)">)</span>
  <span style="color:var(--violet2)">return </span><span style="color:var(--white)">proof</span>
<span style="color:var(--white)">}</span></pre>
    </div>
  </section>

  <hr class="divider"/>

  <!-- API -->
  <section id="api" class="doc-section">
    <div class="section-label">API Reference</div>
    <h2 class="section-title">REST Endpoints</h2>
    <p class="section-desc">All endpoints are served from the backend at the configured <code>NEXT_PUBLIC_API_URL</code>. Base path: <code>/api</code></p>

    <div class="alert info">â„¹ &nbsp;When running in demo mode (no backend), the frontend falls back to static demo data. The API is fully implemented in <code>backend/src/routes/index.ts</code>.</div>

    <!-- Health -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method GET">GET</span>
        <span class="ep-path">/api/health</span>
        <span class="ep-desc">Server health check</span>
      </div>
      <div class="ep-body">
        <div class="ep-label">Response</div>
        <div class="code-block"><pre>{ "ok": true, "ts": 1718234567, "version": "0.1.0" }</pre></div>
      </div>
    </div>

    <!-- Stats -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method GET">GET</span>
        <span class="ep-path">/api/stats</span>
        <span class="ep-desc">Aggregate agent statistics</span>
      </div>
      <div class="ep-body">
        <div class="ep-label">Response</div>
        <div class="code-block"><pre>{ "wallets": 12847, "executions": 3291, "signals": 891, "ethProtected": 847.3 }</pre></div>
      </div>
    </div>

    <!-- Wallets -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method GET">GET</span>
        <span class="ep-path">/api/wallets</span>
        <span class="ep-desc">List stealth wallet pool</span>
      </div>
      <div class="ep-body">
        <div class="ep-label">Response â€” array of StealthWallet</div>
        <div class="code-block"><pre>[{ "id": 1, "address": "0x4f3a...", "status": "ready", "created_at": 1718234567 }]</pre></div>
        <div class="ep-label">Wallet status values</div>
        <div class="block-body" style="font-size:11px;color:var(--ink);">
          <code>ready</code> Â· funded and available &nbsp;|&nbsp;
          <code>active</code> Â· in-flight transaction &nbsp;|&nbsp;
          <code>used</code> Â· trade completed &nbsp;|&nbsp;
          <code>retired</code> Â· key destroyed
        </div>
      </div>
    </div>

    <!-- Generate wallets -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method POST">POST</span>
        <span class="ep-path">/api/wallets/pool</span>
        <span class="ep-desc">Generate new stealth wallets</span>
      </div>
      <div class="ep-body">
        <div class="ep-label">Request Body</div>
        <div class="code-block"><pre>{ "count": 5 }</pre></div>
        <div class="ep-label">Response</div>
        <div class="code-block"><pre>{ "generated": 5, "wallets": [ ... ] }</pre></div>
      </div>
    </div>

    <!-- Trades -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method GET">GET</span>
        <span class="ep-path">/api/trades</span>
        <span class="ep-desc">List recent trade history</span>
      </div>
      <div class="ep-body">
        <div class="ep-label">Response â€” array of Trade</div>
        <div class="code-block"><pre>[{
  "id": 1, "wallet": "0x4f3a...", "stealth_address": "0x4f3a...",
  "pair": "ETH/BRETT", "direction": "BUY", "amount_eth": "0.420",
  "privacy_layer": "L1", "status": "confirmed", "created_at": 1718234567
}]</pre></div>
      </div>
    </div>

    <!-- Signal (x402) -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method GET">GET</span>
        <span class="ep-path">/api/signal</span>
        <span class="ep-desc">Buy a trading signal Â· x402 protected</span>
      </div>
      <div class="ep-body">
        <div class="ep-label">x402 Flow</div>
        <div class="block-body" style="font-size:11px;color:var(--ink);margin-bottom:12px;">Without a payment header, this endpoint returns HTTP 402. The caller must pay $0.001 USDC on Base, then retry with the payment signature in the header.</div>
        <div class="ep-label">Without payment header â€” HTTP 402</div>
        <div class="code-block"><pre>HTTP/1.1 402 Payment Required
X-Payment-Required: { "scheme": "exact", "network": "base", "amount": "1000", "token": "USDC" }</pre></div>
        <div class="ep-label">With payment header â€” HTTP 200</div>
        <div class="code-block"><pre>GET /api/signal
X-Payment: [payment-signature]

{ "pair": "ETH/BRETT", "direction": "BUY", "conviction": 0.87, "price_usdc": "0.001" }</pre></div>
      </div>
    </div>

    <!-- Vault -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method GET">GET</span>
        <span class="ep-path">/api/vault</span>
        <span class="ep-desc">Current vault balances</span>
      </div>
      <div class="ep-body">
        <div class="code-block"><pre>{ "totalEth": 5.23, "execPool": "3.138", "gasReserve": "1.569", "infraUsdc": "0.523" }</pre></div>
      </div>
    </div>

    <!-- Auth -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method POST">POST</span>
        <span class="ep-path">/api/auth/verify</span>
        <span class="ep-desc">Verify MetaMask signature</span>
      </div>
      <div class="ep-body">
        <div class="ep-label">Request Body</div>
        <div class="code-block"><pre>{ "address": "0x4f3a...", "signature": "0x...", "message": "Sign this message..." }</pre></div>
        <div class="ep-label">Response</div>
        <div class="code-block"><pre>{ "authenticated": true, "address": "0x4f3a...", "shortAddress": "0x4f3a...9b2c" }</pre></div>
      </div>
    </div>

    <!-- Deploy -->
    <div class="endpoint">
      <div class="ep-header" onclick="toggleEp(this)">
        <span class="ep-method POST">POST</span>
        <span class="ep-path">/api/deploy</span>
        <span class="ep-desc">Deploy agent to Conway VM</span>
      </div>
      <div class="ep-body">
        <div class="ep-label">Request Body</div>
        <div class="code-block"><pre>{ "pair": "ETH/BRETT", "slippage": "0.5", "conviction": "65", "depositEth": "0.1" }</pre></div>
        <div class="ep-label">Response</div>
        <div class="code-block"><pre>{ "agentId": "null-0047", "status": "operational", "vmId": "vm_abc123", "endpoint": "https://null-0047.conway.app" }</pre></div>
      </div>
    </div>
  </section>

  <hr class="divider"/>

  <!-- WEBSOCKET -->
  <section id="websocket" class="doc-section">
    <div class="section-label">API Reference</div>
    <h2 class="section-title">WebSocket Events</h2>
    <p class="section-desc">Connect to <code>wss://api.nullagent.xyz/ws</code> for real-time agent state. On connect, you receive a full snapshot. Subsequent events are incremental updates.</p>

    <div class="doc-block">
      <h3 class="block-title">Connecting</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><span style="color:var(--violet2)">const </span><span style="color:var(--white)">ws = </span><span style="color:var(--violet2)">new </span><span style="color:var(--neon)">WebSocket</span><span style="color:var(--white)">('wss://api.nullagent.xyz/ws')</span>

ws.<span style="color:var(--neon)">onmessage </span><span style="color:var(--white)">= (event) => {</span>
  <span style="color:var(--violet2)">const </span><span style="color:var(--white)">{ type, data } = JSON.</span><span style="color:var(--neon)">parse</span><span style="color:var(--white)">(event.data)</span>
  <span style="color:var(--violet2)">switch</span><span style="color:var(--white)">(type) {</span>
    <span style="color:var(--violet2)">case </span><span style="color:var(--neon)">'snapshot'</span><span style="color:var(--white)">: handleSnapshot(data); </span><span style="color:var(--violet2)">break</span>
    <span style="color:var(--violet2)">case </span><span style="color:var(--neon)">'trade_added'</span><span style="color:var(--white)">: handleNewTrade(data); </span><span style="color:var(--violet2)">break</span>
    <span style="color:var(--violet2)">case </span><span style="color:var(--neon)">'wallet_added'</span><span style="color:var(--white)">: handleNewWallet(data); </span><span style="color:var(--violet2)">break</span>
  <span style="color:var(--white)">}</span>
<span style="color:var(--white)">}</span></pre>
      </div>
    </div>

    <div class="doc-block">
      <h3 class="block-title">Server â†’ Client events</h3>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">snapshot</span><span class="ws-desc">Full state on connect: wallets, trades, vault, stats, logs</span></div>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">wallet_added</span><span class="ws-desc">New stealth wallet generated and added to pool</span></div>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">wallet_counts</span><span class="ws-desc">Updated wallet pool counts by status</span></div>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">trade_added</span><span class="ws-desc">New trade execution started</span></div>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">trade_confirmed</span><span class="ws-desc">Trade confirmed on-chain with tx hash</span></div>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">vault_updated</span><span class="ws-desc">Vault balance changed</span></div>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">signal_added</span><span class="ws-desc">New signal available in x402 market</span></div>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">stats</span><span class="ws-desc">Updated aggregate stats (wallets, executions, signals, ethProtected)</span></div>
      <div class="ws-event"><span class="ws-dir srv">SERVER</span><span class="ws-name">log</span><span class="ws-desc">Agent log line for the live terminal</span></div>
    </div>

    <div class="doc-block">
      <h3 class="block-title">Client â†’ Server events</h3>
      <div class="ws-event"><span class="ws-dir cli">CLIENT</span><span class="ws-name">generate_wallet</span><span class="ws-desc">Request generation of a new stealth wallet</span></div>
      <div class="ws-event"><span class="ws-dir cli">CLIENT</span><span class="ws-name">get_stats</span><span class="ws-desc">Request latest aggregate stats</span></div>
      <div class="ws-event"><span class="ws-dir cli">CLIENT</span><span class="ws-name">ping</span><span class="ws-desc">Keepalive ping</span></div>
    </div>
  </section>

  <hr class="divider"/>

  <!-- AUTH -->
  <section id="auth" class="doc-section">
    <div class="section-label">API Reference</div>
    <h2 class="section-title">Authentication</h2>
    <p class="section-desc">NullAgent uses MetaMask <code>personal_sign</code> for wallet-based authentication. No JWT, no email, no OAuth â€” your wallet is your identity.</p>

    <div class="steps">
      <div class="step-item">
        <div class="step-num">1</div>
        <div>
          <div class="step-label">Request accounts</div>
          <div class="step-body">Call <code>eth_requestAccounts</code> via window.ethereum. User approves wallet connection in MetaMask.</div>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">2</div>
        <div>
          <div class="step-label">Switch to Base mainnet</div>
          <div class="step-body">Call <code>wallet_switchEthereumChain</code> with chainId <code>0x2105</code> (8453). If not added, call <code>wallet_addEthereumChain</code>.</div>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">3</div>
        <div>
          <div class="step-label">Sign auth message</div>
          <div class="step-body">Call <code>personal_sign</code> with a timestamped nonce message. The signature proves ownership of the address without exposing the private key.</div>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">4</div>
        <div>
          <div class="step-label">Verify signature</div>
          <div class="step-body">POST the address, signature, and message to <code>/api/auth/verify</code>. The backend recovers the signer address and confirms it matches.</div>
        </div>
      </div>
    </div>

    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><span style="color:var(--dim)">// Complete MetaMask auth flow</span>
<span style="color:var(--violet2)">const </span><span style="color:var(--white)">eth = window.ethereum</span>
<span style="color:var(--violet2)">const </span><span style="color:var(--white)">[address] = </span><span style="color:var(--violet2)">await </span><span style="color:var(--white)">eth.</span><span style="color:var(--neon)">request</span><span style="color:var(--white)">({ method: </span><span style="color:var(--neon)">'eth_requestAccounts'</span><span style="color:var(--white)"> })</span>

<span style="color:var(--dim)">// Switch to Base (chainId 8453)</span>
<span style="color:var(--violet2)">await </span><span style="color:var(--white)">eth.</span><span style="color:var(--neon)">request</span><span style="color:var(--white)">({ method: </span><span style="color:var(--neon)">'wallet_switchEthereumChain'</span><span style="color:var(--white)">, params: [{ chainId: </span><span style="color:var(--neon)">'0x2105'</span><span style="color:var(--white)"> }] })</span>

<span style="color:var(--dim)">// Sign auth message</span>
<span style="color:var(--violet2)">const </span><span style="color:var(--white)">msg = </span><span style="color:var(--neon)">`Sign to authenticate with NullAgent:\nnullagent-${address}-${Date.now()}`</span>
<span style="color:var(--violet2)">const </span><span style="color:var(--white)">sig = </span><span style="color:var(--violet2)">await </span><span style="color:var(--white)">eth.</span><span style="color:var(--neon)">request</span><span style="color:var(--white)">({ method: </span><span style="color:var(--neon)">'personal_sign'</span><span style="color:var(--white)">, params: [msg, address] })</span></pre>
    </div>
  </section>

  <hr class="divider"/>

  <!-- X402 -->
  <section id="x402" class="doc-section">
    <div class="section-label">Integrations</div>
    <h2 class="section-title">x402 Protocol</h2>
    <p class="section-desc">NullAgent implements x402 for autonomous HTTP micropayments. The agent sells trading signals at $0.001 USDC per request â€” no API key, no account, no human in the loop.</p>

    <div class="doc-block">
      <h3 class="block-title">How x402 works</h3>
      <div class="block-body">x402 extends the HTTP standard. When a client requests a protected resource without payment, the server responds with <code>HTTP 402 Payment Required</code> and a machine-readable price specification. The client's x402 library automatically pays the specified amount on-chain and retries the request with a <code>X-Payment</code> signature header. The server verifies payment and returns the resource.</div>
    </div>

    <div class="cards-grid">
      <div class="doc-card">
        <div class="doc-card-title">Selling signals</div>
        <div class="doc-card-body">NullAgent's backend uses <code>@x402/express</code> middleware on <code>GET /api/signal</code>. Any agent that requests a signal and can pay $0.001 USDC gets the signal automatically.</div>
      </div>
      <div class="doc-card">
        <div class="doc-card-title">Paying for compute</div>
        <div class="doc-card-body">The agent uses <code>@x402/fetch</code> to pay Conway compute credits automatically when the vault's USDC balance is sufficient. No manual top-up needed.</div>
      </div>
    </div>

    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><span style="color:var(--dim)">// Backend: protect an endpoint with x402</span>
<span style="color:var(--violet2)">import </span><span style="color:var(--white)">{ paymentMiddleware } </span><span style="color:var(--violet2)">from </span><span style="color:var(--neon)">'@x402/express'</span>

app.<span style="color:var(--neon)">use</span><span style="color:var(--white)">(</span><span style="color:var(--neon)">'GET /signal'</span><span style="color:var(--white)">, </span><span style="color:var(--neon)">paymentMiddleware</span><span style="color:var(--white)">({</span>
  <span style="color:var(--white)">network: </span><span style="color:var(--neon)">'base'</span><span style="color:var(--white)">,</span>
  <span style="color:var(--white)">asset: </span><span style="color:var(--neon)">'USDC'</span><span style="color:var(--white)">,</span>
  <span style="color:var(--white)">amount: </span><span style="color:var(--neon)">'1000'</span><span style="color:var(--white)">,   </span><span style="color:var(--dim)">// $0.001 USDC (6 decimals)</span>
  <span style="color:var(--white)">payTo: process.env.PAYMENT_ADDRESS</span>
<span style="color:var(--white)">}))</span>

<span style="color:var(--dim)">// Client: buy a signal automatically</span>
<span style="color:var(--violet2)">import </span><span style="color:var(--white)">{ fetchWithPayment } </span><span style="color:var(--violet2)">from </span><span style="color:var(--neon)">'@x402/fetch'</span>

<span style="color:var(--violet2)">const </span><span style="color:var(--white)">signal = </span><span style="color:var(--violet2)">await </span><span style="color:var(--neon)">fetchWithPayment</span><span style="color:var(--white)">(</span><span style="color:var(--neon)">'https://api.nullagent.xyz/api/signal'</span><span style="color:var(--white)">, {</span>
  <span style="color:var(--white)">wallet: stealthWallet </span><span style="color:var(--dim)">// pays automatically from stealth wallet USDC</span>
<span style="color:var(--white)">})</span></pre>
    </div>

    <div class="doc-block">
      <h3 class="block-title">[FILL] â€” Signal pricing</h3>
      <div class="block-body">Update the table below with your actual signal pricing and categories once you go live.</div>
      <table class="doc-table">
        <thead><tr><th>Signal Type</th><th>Price (USDC)</th><th>Endpoint</th><th>Status</th></tr></thead>
        <tbody>
          <tr><td>ETH/BRETT BUY signal</td><td>$0.001</td><td>/api/signal</td><td style="color:var(--neon)">Live</td></tr>
          <tr><td>ETH/DEGEN BUY signal</td><td>$0.001</td><td>/api/signal</td><td style="color:var(--neon)">Live</td></tr>
          <tr><td>High conviction bundle</td><td style="color:var(--warn);">[FILL]</td><td>[FILL]</td><td style="color:var(--dim)">Planned</td></tr>
          <tr><td>Subscription feed</td><td style="color:var(--warn);">[FILL]</td><td>[FILL]</td><td style="color:var(--dim)">Planned</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <hr class="divider"/>

  <!-- CONWAY -->
  <section id="conway" class="doc-section">
    <div class="section-label">Integrations</div>
    <h2 class="section-title">Conway Compute</h2>
    <p class="section-desc">Conway.tech runs NullAgent in isolated Firecracker microVMs â€” the same hypervisor used by AWS Lambda. Each agent gets its own Linux process, private SQLite database, and a public SSL endpoint.</p>

    <div class="doc-block">
      <h3 class="block-title">What Conway provides</h3>
      <div class="block-body">Each agent runs in an isolated microVM with its own Linux environment. The agent has no access to other VMs, no shared filesystem, and no shared network namespace. When the agent needs to renew compute credits, it pays automatically via x402 â€” the vault's USDC pool handles this without any human intervention.</div>
    </div>

    <div class="doc-block">
      <h3 class="block-title">[FILL] â€” Conway API endpoints</h3>
      <div class="block-body">Fill in the actual Conway API URLs once you have API access.</div>
      <table class="doc-table">
        <thead><tr><th>Operation</th><th>Conway Endpoint</th><th>Notes</th></tr></thead>
        <tbody>
          <tr><td>Create VM</td><td style="color:var(--warn);">[FILL]</td><td>Returns vmId and endpoint URL</td></tr>
          <tr><td>Check status</td><td style="color:var(--warn);">[FILL]</td><td>Returns running/stopped/error</td></tr>
          <tr><td>Expose port</td><td style="color:var(--warn);">[FILL]</td><td>Creates public SSL endpoint</td></tr>
          <tr><td>Top up credits</td><td style="color:var(--warn);">[FILL]</td><td>x402 autopay target</td></tr>
        </tbody>
      </table>
    </div>

    <div class="alert info">â„¹ &nbsp;Conway's public API is not yet available. <a href="https://docs.conway.tech" target="_blank" style="color:var(--electric)">Contact Conway.tech</a> directly for API access. Without a key, the deploy wizard simulates VM creation.</div>
  </section>

  <hr class="divider"/>

  <!-- ERC-8004 -->
  <section id="erc8004" class="doc-section">
    <div class="section-label">Integrations</div>
    <h2 class="section-title">ERC-8004 Identity</h2>
    <p class="section-desc">NullAgent registers on-chain agent identity using ERC-8004 â€” the emerging standard for autonomous agent registries on EVM chains.</p>

    <div class="doc-block">
      <h3 class="block-title">What ERC-8004 provides</h3>
      <div class="block-body">ERC-8004 defines three core registries: Identity (maps agent address to operator), Reputation (accumulates verifiable execution history), and Validation (allows other agents to attest to an agent's behavior). NullAgent uses the Identity registry to prove it is a legitimate agent without revealing the operator's primary wallet.</div>
    </div>

    <div class="doc-block">
      <h3 class="block-title">[FILL] â€” Contract addresses</h3>
      <table class="doc-table">
        <thead><tr><th>Contract</th><th>Address on Base</th><th>Status</th></tr></thead>
        <tbody>
          <tr><td>AgentRegistry (Identity)</td><td style="color:var(--warn);">[FILL]</td><td>Pending deployment</td></tr>
          <tr><td>ReputationRegistry</td><td style="color:var(--warn);">[FILL]</td><td>Pending deployment</td></tr>
          <tr><td>ValidationRegistry</td><td style="color:var(--warn);">[FILL]</td><td>Pending deployment</td></tr>
        </tbody>
      </table>
    </div>

    <div class="alert info">â„¹ &nbsp;NullAgent is built on the open-source <a href="https://github.com/0xgasless/agent-sdk" target="_blank" style="color:var(--electric)">0xgasless/agent-sdk</a> which provides ERC-8004 and x402 compliant infrastructure for any EVM agent.</div>
  </section>

  <hr class="divider"/>

  <!-- VAULT -->
  <section id="vault" class="doc-section">
    <div class="section-label">Vault</div>
    <h2 class="section-title">Vault Architecture</h2>
    <p class="section-desc">The vault manages all ETH deposited by the operator and splits it automatically into three purpose-specific pools.</p>

    <div class="doc-block">
      <h3 class="block-title">Split configuration</h3>
      <table class="doc-table">
        <thead><tr><th>Pool</th><th>Allocation</th><th>Purpose</th><th>Asset</th></tr></thead>
        <tbody>
          <tr><td>Execution Pool</td><td style="color:var(--neon)">60%</td><td>ETH used for actual trades through stealth wallets</td><td>ETH</td></tr>
          <tr><td>Gas Reserve</td><td style="color:var(--violet2)">30%</td><td>Funds each stealth wallet with gas before every trade</td><td>ETH</td></tr>
          <tr><td>Conway Infra</td><td style="color:var(--electric)">10%</td><td>Swapped to USDC â†’ used for x402 compute credit payments</td><td>ETH â†’ USDC</td></tr>
        </tbody>
      </table>
    </div>

    <div class="doc-block">
      <h3 class="block-title">[FILL] â€” Vault contract address</h3>
      <div class="block-body">Once the vault contract is deployed on Base mainnet, add the address here.</div>
      <div class="alert warn">âš  &nbsp;Vault contract address: <strong>[FILL â€” not yet deployed]</strong>. Currently vault logic runs off-chain in the backend.</div>
    </div>
  </section>

  <hr class="divider"/>

  <!-- DEPLOY CONWAY -->
  <section id="deploy-conway" class="doc-section">
    <div class="section-label">Deploy</div>
    <h2 class="section-title">Deploy on Conway</h2>
    <p class="section-desc">The recommended production deployment runs the agent inside a Conway Firecracker microVM.</p>

    <div class="steps">
      <div class="step-item">
        <div class="step-num">1</div>
        <div>
          <div class="step-label">Get Conway API key</div>
          <div class="step-body">Contact <a href="https://docs.conway.tech" target="_blank" style="color:var(--violet2)">Conway.tech</a> to get API access. Set <code>CONWAY_API_KEY</code> in your backend <code>.env</code>.</div>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">2</div>
        <div>
          <div class="step-label">Push backend to GitHub</div>
          <div class="step-body">Push the <code>backend/</code> folder to a GitHub repo. Conway will pull from it when provisioning the VM.</div>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">3</div>
        <div>
          <div class="step-label">Use the deploy wizard</div>
          <div class="step-body">Go to <a href="index.html" style="color:var(--violet2)">nullagent.xyz</a>, connect wallet, configure, fund, and click Launch. With a valid Conway key, this creates a real microVM.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- DEPLOY SELF -->
  <section id="deploy-self" class="doc-section">
    <div class="section-label">Deploy</div>
    <h2 class="section-title">Self-Hosted</h2>
    <p class="section-desc">Run the backend on any Node.js host: Railway, Render, Fly.io, or your own VPS.</p>

    <div class="doc-block">
      <h3 class="block-title">Deploy backend to Railway (recommended, free tier)</h3>
      <div class="code-block">
        <pre><span style="color:var(--dim)"># 1. Push to GitHub</span>
git push origin main

<span style="color:var(--dim)"># 2. Go to railway.app â†’ New Project â†’ Deploy from GitHub</span>
<span style="color:var(--dim)"># 3. Set Root Directory: backend</span>
<span style="color:var(--dim)"># 4. Add environment variables (see .env.example)</span>
<span style="color:var(--dim)"># 5. Railway assigns a URL â€” set as NEXT_PUBLIC_API_URL in Vercel</span></pre>
      </div>
    </div>

    <div class="doc-block">
      <h3 class="block-title">Deploy frontend to Vercel (free)</h3>
      <div class="code-block">
        <pre><span style="color:var(--dim)"># 1. Import GitHub repo at vercel.com</span>
<span style="color:var(--dim)"># 2. Set Root Directory: frontend</span>
<span style="color:var(--dim)"># 3. Set environment variables:</span>
NEXT_PUBLIC_API_URL=https://your-backend.railway.app
NEXT_PUBLIC_WS_URL=wss://your-backend.railway.app/ws</pre>
      </div>
    </div>

    <div class="alert tip">âœ“ &nbsp;For a fully free stack with zero cost: use <strong>Railway</strong> for the backend (hobby free tier) + <strong>Vercel</strong> for the frontend (hobby free tier). Domain management via your existing GoDaddy account.</div>
  </section>

</main>
</div>

<script>
// Sidebar active state on scroll
const sections = document.querySelectorAll('.doc-section');
const links = document.querySelectorAll('.sb-link');
window.addEventListener('scroll', () => {
  let cur = '';
  sections.forEach(s => { if(window.scrollY >= s.offsetTop - 100) cur = s.id; });
  links.forEach(l => {
    l.classList.toggle('active', l.getAttribute('href') === '#' + cur);
  });
});

// Toggle endpoint bodies
function toggleEp(header) {
  const body = header.nextElementSibling;
  body.classList.toggle('open');
}

// Copy code
function copyCode(btn) {
  const pre = btn.parentElement.querySelector('pre');
  const text = pre.innerText;
  navigator.clipboard.writeText(text).then(() => {
    const orig = btn.textContent;
    btn.textContent = 'Copied!';
    btn.style.color = 'var(--neon)';
    setTimeout(() => { btn.textContent = orig; btn.style.color = ''; }, 1500);
  });
}

// Highlight hash on load
window.addEventListener('load', () => {
  const hash = window.location.hash;
  if(hash) {
    const link = document.querySelector('.sb-link[href="'+hash+'"]');
    if(link) { links.forEach(l=>l.classList.remove('active')); link.classList.add('active'); }
  }
});
</script>
</body>
</html>
